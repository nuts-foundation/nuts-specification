<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="923px" preserveAspectRatio="none" style="width:1145px;height:923px;" version="1.1" viewBox="0 0 1145 923" width="1145px" zoomAndPan="magnify"><defs><filter height="300%" id="fylxujvsqhee7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" height="911.25" style="stroke:#A80036;stroke-width:1.0;" width="683" x="212.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="483" y="18.0669">Verifier Nuts Node</text><rect fill="#D3D3D3" height="911.25" style="stroke:#A80036;stroke-width:1.0;" width="171" x="897.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160" x="903" y="18.0669">Verifier Business App</text><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="59.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="286.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="130.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="444.5" y="148.5625"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="63.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="449.5" y="215.6953"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="100.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="444.5" y="647.2891"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="63.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="449.5" y="684.4219"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="368.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="640.5" y="249.8281"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="69.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="645.5" y="316.0938"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="98.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="645.5" y="453.625"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="814.5" y="718.5547"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="159.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="978" y="588.1563"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="406.5938" style="stroke:#000000;stroke-width:2.0;" width="1121.5" x="10" y="407.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="88.2969" y2="830.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="291.5" x2="291.5" y1="88.2969" y2="830.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="449" x2="449" y1="88.2969" y2="830.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="645" x2="645" y1="88.2969" y2="830.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="819.5" x2="819.5" y1="88.2969" y2="830.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="982.5" x2="982.5" y1="88.2969" y2="830.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1097.5" x2="1097.5" y1="88.2969" y2="830.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="20" y="84.9951">Holder</text><ellipse cx="46.5" cy="15" fill="#FEFECE" filter="url(#fylxujvsqhee7)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M46.5,23 L46.5,50 M33.5,31 L59.5,31 M46.5,50 L33.5,65 M46.5,50 L59.5,65 " fill="none" filter="url(#fylxujvsqhee7)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="20" y="842.9482">Holder</text><ellipse cx="46.5" cy="856.25" fill="#FEFECE" filter="url(#fylxujvsqhee7)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M46.5,864.25 L46.5,891.25 M33.5,872.25 L59.5,872.25 M46.5,891.25 L33.5,906.25 M46.5,891.25 L59.5,906.25 " fill="none" filter="url(#fylxujvsqhee7)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fylxujvsqhee7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="146" x="216.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="223.5" y="72.9951">Http Proxy (mTLS)</text><rect fill="#FEFECE" filter="url(#fylxujvsqhee7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="146" x="216.5" y="829.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="223.5" y="849.9482">Http Proxy (mTLS)</text><rect fill="#FEFECE" filter="url(#fylxujvsqhee7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="111" x="392" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="399" y="72.9951">Http Listener</text><rect fill="#FEFECE" filter="url(#fylxujvsqhee7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="111" x="392" y="829.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="399" y="849.9482">Http Listener</text><rect fill="#FEFECE" filter="url(#fylxujvsqhee7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="127" x="580" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="587" y="72.9951">InboundHandler</text><rect fill="#FEFECE" filter="url(#fylxujvsqhee7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="127" x="580" y="829.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="587" y="849.9482">InboundHandler</text><rect fill="#FEFECE" filter="url(#fylxujvsqhee7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="140" x="747.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="754.5" y="72.9951">OutboundHandler</text><rect fill="#FEFECE" filter="url(#fylxujvsqhee7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="140" x="747.5" y="829.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="754.5" y="849.9482">OutboundHandler</text><rect fill="#FEFECE" filter="url(#fylxujvsqhee7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="159" x="901.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="908.5" y="72.9951">CredentialProcessor</text><rect fill="#FEFECE" filter="url(#fylxujvsqhee7)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="159" x="901.5" y="829.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="908.5" y="849.9482">CredentialProcessor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="1074.5" y="84.9951">Issuer</text><ellipse cx="1098" cy="15" fill="#FEFECE" filter="url(#fylxujvsqhee7)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M1098,23 L1098,50 M1085,31 L1111,31 M1098,50 L1085,65 M1098,50 L1111,65 " fill="none" filter="url(#fylxujvsqhee7)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="1074.5" y="842.9482">Issuer</text><ellipse cx="1098" cy="856.25" fill="#FEFECE" filter="url(#fylxujvsqhee7)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M1098,864.25 L1098,891.25 M1085,872.25 L1111,872.25 M1098,891.25 L1085,906.25 M1098,891.25 L1111,906.25 " fill="none" filter="url(#fylxujvsqhee7)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="59.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="286.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="130.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="444.5" y="148.5625"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="63.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="449.5" y="215.6953"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="100.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="444.5" y="647.2891"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="63.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="449.5" y="684.4219"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="368.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="640.5" y="249.8281"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="69.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="645.5" y="316.0938"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="98.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="645.5" y="453.625"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="814.5" y="718.5547"/><rect fill="#FFFFFF" filter="url(#fylxujvsqhee7)" height="159.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="978" y="588.1563"/><polygon fill="#A80036" points="274.5,115.4297,284.5,119.4297,274.5,123.4297,278.5,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46.5" x2="280.5" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="53.5" y="114.3638">POST ( body: JSON Web Message )</text><polygon fill="#A80036" points="432.5,144.5625,442.5,148.5625,432.5,152.5625,436.5,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="296.5" x2="438.5" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="303.5" y="143.4966">proxy_pass inbound</text><line style="stroke:#A80036;stroke-width:1.0;" x1="454.5" x2="501.5" y1="202.6953" y2="202.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="501.5" x2="501.5" y1="202.6953" y2="215.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="460.5" x2="501.5" y1="215.6953" y2="215.6953"/><polygon fill="#A80036" points="470.5,211.6953,460.5,215.6953,470.5,219.6953,466.5,215.6953" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="466.5" y="197.6294">Route to controller</text><line style="stroke:#A80036;stroke-width:1.0;" x1="638.5" x2="628.5" y1="249.8281" y2="245.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="638.5" x2="628.5" y1="249.8281" y2="253.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="459.5" x2="639.5" y1="249.8281" y2="249.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="466.5" y="244.7622">Handle inbound message</text><polygon fill="#A80036" points="57.5,274.9609,47.5,278.9609,57.5,282.9609,53.5,278.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51.5" x2="448.5" y1="278.9609" y2="278.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="63.5" y="273.895">200 OK</text><line style="stroke:#A80036;stroke-width:1.0;" x1="650.5" x2="697.5" y1="303.0938" y2="303.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="697.5" x2="697.5" y1="303.0938" y2="316.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="656.5" x2="697.5" y1="316.0938" y2="316.0938"/><polygon fill="#A80036" points="666.5,312.0938,656.5,316.0938,666.5,320.0938,662.5,316.0938" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="662.5" y="298.0278">Verify Presentation</text><polygon fill="#A80036" points="57.5,346.2266,47.5,350.2266,57.5,354.2266,53.5,350.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51.5" x2="644.5" y1="350.2266" y2="350.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="63.5" y="345.1606">GET /.well-known/did.json</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="655.5" x2="697.5" y1="384.3594" y2="384.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="697.5" x2="697.5" y1="384.3594" y2="397.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="650.5" x2="697.5" y1="397.3594" y2="397.3594"/><polygon fill="#A80036" points="660.5,393.3594,650.5,397.3594,660.5,401.3594,656.5,397.3594" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="662.5" y="379.2935">Presentation Accepted</text><path d="M10,407.3594 L88,407.3594 L88,414.3594 L78,424.3594 L10,424.3594 L10,407.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="406.5938" style="stroke:#000000;stroke-width:2.0;" width="1121.5" x="10" y="407.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="25" y="420.4263">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="228" x="103" y="419.5698">[Embedded Verifiable Credentials]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="650.5" x2="697.5" y1="440.625" y2="440.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="697.5" x2="697.5" y1="440.625" y2="453.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="656.5" x2="697.5" y1="453.625" y2="453.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="656.5" x2="666.5" y1="453.625" y2="449.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="656.5" x2="666.5" y1="453.625" y2="457.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="662.5" y="435.5591">Verify Credentials</text><polygon fill="#A80036" points="1086,483.7578,1096,487.7578,1086,491.7578,1090,487.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="655.5" x2="1092" y1="487.7578" y2="487.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="662.5" y="482.6919">GET /.well-known/did.json</text><polygon fill="#A80036" points="1086,512.8906,1096,516.8906,1086,520.8906,1090,516.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="655.5" x2="1092" y1="516.8906" y2="516.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="662.5" y="511.8247">GET /revocation/&lt;credential id&gt;</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="655.5" x2="697.5" y1="551.0234" y2="551.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="697.5" x2="697.5" y1="551.0234" y2="564.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="650.5" x2="697.5" y1="564.0234" y2="564.0234"/><line style="stroke:#A80036;stroke-width:1.0;" x1="650.5" x2="660.5" y1="564.0234" y2="560.0234"/><line style="stroke:#A80036;stroke-width:1.0;" x1="650.5" x2="660.5" y1="564.0234" y2="568.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="662.5" y="545.9575">Credential Accepted</text><line style="stroke:#A80036;stroke-width:1.0;" x1="976" x2="966" y1="588.1563" y2="584.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="976" x2="966" y1="588.1563" y2="592.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="650.5" x2="977" y1="588.1563" y2="588.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="657.5" y="583.0903">Process Credential</text><polygon fill="#A80036" points="465.5,643.2891,455.5,647.2891,465.5,651.2891,461.5,647.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="459.5" x2="977" y1="647.2891" y2="647.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="471.5" y="642.2231">POST outbound ( body: response)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="454.5" x2="501.5" y1="671.4219" y2="671.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="501.5" x2="501.5" y1="671.4219" y2="684.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="460.5" x2="501.5" y1="684.4219" y2="684.4219"/><polygon fill="#A80036" points="470.5,680.4219,460.5,684.4219,470.5,688.4219,466.5,684.4219" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="466.5" y="666.356">Route to controller</text><line style="stroke:#A80036;stroke-width:1.0;" x1="812.5" x2="802.5" y1="718.5547" y2="714.5547"/><line style="stroke:#A80036;stroke-width:1.0;" x1="812.5" x2="802.5" y1="718.5547" y2="722.5547"/><line style="stroke:#A80036;stroke-width:1.0;" x1="459.5" x2="813.5" y1="718.5547" y2="718.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="466.5" y="713.4888">Handle outbound message</text><polygon fill="#A80036" points="971,743.6875,981,747.6875,971,751.6875,975,747.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="449.5" x2="977" y1="747.6875" y2="747.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="456.5" y="742.6216">200 OK</text><polygon fill="#A80036" points="57.5,772.8203,47.5,776.8203,57.5,780.8203,53.5,776.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51.5" x2="813.5" y1="776.8203" y2="776.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="63.5" y="771.7544">POST ( body: JSON Web Message )</text><polygon fill="#A80036" points="807.5,801.9531,817.5,805.9531,807.5,809.9531,811.5,805.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="46.5" x2="813.5" y1="805.9531" y2="805.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="53.5" y="800.8872">200 OK</text><!--MD5=[5766e1ec40ca2ca3bca0546124e1bac4]
@startuml
actor Holder
box "Verifier Nuts Node" #LightBlue
participant HttpProxy as "Http Proxy (mTLS)"
participant Server as "Http Listener"
participant InboundHandler
participant OutboundHandler
end box
box "Verifier Business App" #LightGrey
participant CredentialProcessor
end box
actor Issuer

Holder -> HttpProxy ++ : POST ( body: JSON Web Message )
HttpProxy -> Server ++ : proxy_pass inbound
deactivate HttpProxy
Server -> Server ++ : Route to controller
Server ->> InboundHandler ++ : Handle inbound message
Server - -> Holder - - : 200 OK
deactivate Server

InboundHandler -> InboundHandler ++ : Verify Presentation
InboundHandler -> Holder : GET /.well-known/did.json
return Presentation Accepted

loop Embedded Verifiable Credentials

    InboundHandler ->> InboundHandler ++ : Verify Credentials
    InboundHandler -> Issuer : GET /.well-known/did.json
    InboundHandler -> Issuer : GET /revocation/<credential id>
    return Credential Accepted

    InboundHandler ->> CredentialProcessor ++ : Process Credential
    deactivate InboundHandler

    CredentialProcessor -> Server ++ : POST outbound ( body: response)
    Server -> Server ++ : Route to controller
    Server ->> OutboundHandler ++ : Handle outbound message
    Server - -> CredentialProcessor - - : 200 OK
    deactivate CredentialProcessor
    deactivate Server

    OutboundHandler -> Holder : POST ( body: JSON Web Message )
    Holder - -> OutboundHandler : 200 OK
    deactivate OutboundHandler

end
@enduml

PlantUML version 1.2020.21(Mon Nov 30 16:40:11 UTC 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>